# =============================================================================
# Vite & Gourmand — Configuration Azure App Service (Production)
# =============================================================================
# Ce fichier sert de référence pour les variables d'environnement à configurer
# dans Azure Portal → App Service → Configuration → Variables d'environnement.
#
# En production Azure, ces variables sont définies directement dans le portail
# ou via GitHub Actions Secrets — ce fichier n'est PAS déployé sur le serveur.
# =============================================================================

# =============================================================================
# BASE DE DONNÉES — Azure Database for MySQL
# =============================================================================
DB_HOST=<NOM_SERVEUR>.mysql.database.azure.com
DB_PORT=3306
DB_NAME=vite_et_gourmand
DB_USER=<UTILISATEUR_MYSQL_AZURE>
DB_PASS=<MOT_DE_PASSE_MYSQL_AZURE>
DB_SSL=true

# =============================================================================
# BASE DE DONNÉES — MongoDB (Azure Cosmos DB Serverless, API MongoDB)
# =============================================================================
# Format Cosmos DB Serverless : connection string récupérable via :
#   az cosmosdb keys list --name <NOM> --resource-group <RG> --type connection-strings
# Exemple :
#   mongodb://<COMPTE>:<CLE>@<COMPTE>.mongo.cosmos.azure.com:10255/<DB>?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000&appName=@<COMPTE>@
MONGO_URI=mongodb://<COMPTE>:<CLE_PRIMAIRE>@<COMPTE>.mongo.cosmos.azure.com:10255/?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000&appName=@<COMPTE>@
MONGO_DB=vite_gourmand_prod

# =============================================================================
# STOCKAGE IMAGES — Azure Blob Storage (Serverless, Standard LRS)
# =============================================================================
# Connection string récupérable via :
#   az storage account show-connection-string --name <COMPTE> --resource-group <RG>
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=<COMPTE>;AccountKey=<CLE>;BlobEndpoint=https://<COMPTE>.blob.core.windows.net/
AZURE_STORAGE_CONTAINER=uploads

# =============================================================================
# JWT — Secret pour les tokens d'authentification
# =============================================================================
JWT_SECRET=<GÉNÉRER_AVEC_OPENSSL_RAND_HEX_32>

# =============================================================================
# MAIL — Service SMTP (SendGrid recommandé en production)
# =============================================================================
MAIL_HOST=smtp.sendgrid.net
MAIL_USERNAME=apikey
MAIL_PASSWORD=<VOTRE_CLE_API_SENDGRID>
MAIL_FROM_ADDRESS=noreply@vitegourmand.fr
# Adresse de réception des messages du formulaire de contact
CONTACT_EMAIL=contact@vite-et-gourmand.me

# =============================================================================
# GOOGLE MAPS — API Distance Matrix
# =============================================================================
GOOGLE_MAPS_API_KEY=<VOTRE_CLE_GOOGLE_MAPS>

# =============================================================================
# AZURE APP SERVICE — Configuration spécifique
# =============================================================================
WEBSITES_PORT=8080
LOG_FILE=/tmp/app.log
APP_ENV=production
APP_DEBUG=false

# =============================================================================
# ADMIN — Mot de passe initial administrateur
# =============================================================================
ADMIN_INITIAL_PASSWORD=<MOT_DE_PASSE_ADMIN_PRODUCTION>
